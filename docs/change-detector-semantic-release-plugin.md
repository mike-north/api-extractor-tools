<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@api-extractor-tools/change-detector-semantic-release-plugin](./change-detector-semantic-release-plugin.md)

## change-detector-semantic-release-plugin package

A semantic-release plugin that uses change-detector to validate and enhance version bumping.

## Remarks

This plugin integrates with `@api-extractor-tools/change-detector` to analyze TypeScript declaration files and validate that semantic-release version bumps match the actual API changes detected.

## Example 1

Configuration in `.releaserc.json`<!-- -->:

```json
{
  "plugins": [
    "@semantic-release/commit-analyzer",
    ["@api-extractor-tools/change-detector-semantic-release-plugin", {
      "mode": "validate",
      "declarationPath": "./dist/index.d.ts",
      "includeAPIChangesInNotes": true
    }],
    "@semantic-release/release-notes-generator",
    "@semantic-release/npm",
    "@semantic-release/github"
  ]
}
```

## Example 2

Programmatic usage:

```ts
import {
  analyzeAPIChanges,
  validateVersionBump,
  formatAPIChangesAsMarkdown,
} from '@api-extractor-tools/change-detector-semantic-release-plugin';

// Analyze API changes
const analysis = analyzeAPIChanges(process.cwd(), config, lastRelease);

// Validate a proposed version bump
const validation = validateVersionBump('minor', analysis, 'validate');

// Generate release notes
const notes = formatAPIChangesAsMarkdown(analysis.report);
```

## Functions

<table><thead><tr><th>

Function


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[analyzeAPIChanges(cwd, config, lastRelease)](./change-detector-semantic-release-plugin.analyzeapichanges.md)


</td><td>

**_(ALPHA)_** Analyzes API changes between the baseline and current state.


</td></tr>
<tr><td>

[analyzeCommits(pluginConfig, context)](./change-detector-semantic-release-plugin.analyzecommits.md)


</td><td>

**_(ALPHA)_** Analyzes commits and validates against API changes.

This hook: 1. Analyzes actual API changes using change-detector 2. Compares against the proposed version bump from commits 3. Based on mode, either fails, warns, or overrides


</td></tr>
<tr><td>

[clearCache()](./change-detector-semantic-release-plugin.clearcache.md)


</td><td>

**_(ALPHA)_** Clears the cached analysis result. Primarily used for testing.


</td></tr>
<tr><td>

[compareReleaseSeverity(a, b)](./change-detector-semantic-release-plugin.comparereleaseseverity.md)


</td><td>

**_(ALPHA)_** Compares two release types and returns which is more severe. Severity order: major &gt; minor &gt; patch &gt; none (most to least severe).


</td></tr>
<tr><td>

[determineBaseline(cwd, lastRelease, explicitRef)](./change-detector-semantic-release-plugin.determinebaseline.md)


</td><td>

**_(ALPHA)_** Determines the baseline git ref to compare against.


</td></tr>
<tr><td>

[findDeclarationFile(cwd, config)](./change-detector-semantic-release-plugin.finddeclarationfile.md)


</td><td>

**_(ALPHA)_** Finds the declaration file path for a package.


</td></tr>
<tr><td>

[formatAPIChangesAsMarkdown(report)](./change-detector-semantic-release-plugin.formatapichangesasmarkdown.md)


</td><td>

**_(ALPHA)_** Formats API changes as markdown for release notes.


</td></tr>
<tr><td>

[formatChangeSummary(report)](./change-detector-semantic-release-plugin.formatchangesummary.md)


</td><td>

**_(ALPHA)_** Formats API changes as a human-readable summary.


</td></tr>
<tr><td>

[generateDetailedDescription(analysis)](./change-detector-semantic-release-plugin.generatedetaileddescription.md)


</td><td>

**_(ALPHA)_** Generates a detailed description of API changes. Useful for changeset summaries or detailed release notes.


</td></tr>
<tr><td>

[generateNotes(pluginConfig, context)](./change-detector-semantic-release-plugin.generatenotes.md)


</td><td>

**_(ALPHA)_** Generates release notes with API change details.

This hook appends API change information to the release notes generated by other plugins.


</td></tr>
<tr><td>

[getCachedAnalysis()](./change-detector-semantic-release-plugin.getcachedanalysis.md)


</td><td>

**_(ALPHA)_** Gets the cached analysis result. Useful for other hooks or for testing.


</td></tr>
<tr><td>

[getFileAtRef(filePath, ref, cwd)](./change-detector-semantic-release-plugin.getfileatref.md)


</td><td>

**_(ALPHA)_** Gets the file content at a specific git ref.


</td></tr>
<tr><td>

[releaseTypeToSemanticType(releaseType)](./change-detector-semantic-release-plugin.releasetypetosemantictype.md)


</td><td>

**_(ALPHA)_** Maps change-detector ReleaseType to semantic-release type. Returns null for 'none' since no release is needed. Throws an error for 'forbidden' since it should block the release.


</td></tr>
<tr><td>

[resolveConfig(config)](./change-detector-semantic-release-plugin.resolveconfig.md)


</td><td>

**_(ALPHA)_** Resolves plugin configuration by applying defaults.


</td></tr>
<tr><td>

[semanticTypeToReleaseType(semanticType)](./change-detector-semantic-release-plugin.semantictypetoreleasetype.md)


</td><td>

**_(ALPHA)_** Maps semantic-release type to change-detector ReleaseType.


</td></tr>
<tr><td>

[validateVersionBump(proposedBump, analysis, mode)](./change-detector-semantic-release-plugin.validateversionbump.md)


</td><td>

**_(ALPHA)_** Validates the proposed version bump against detected API changes.


</td></tr>
<tr><td>

[verifyConditions(pluginConfig, context)](./change-detector-semantic-release-plugin.verifyconditions.md)


</td><td>

**_(ALPHA)_** Verifies that the plugin can run successfully.

This hook checks: - Declaration file can be found - Git repository is accessible


</td></tr>
<tr><td>

[verifyRelease(pluginConfig, context)](./change-detector-semantic-release-plugin.verifyrelease.md)


</td><td>

**_(ALPHA)_** Verifies the release before publishing.

This hook validates that the proposed version bump matches (or exceeds) what the API changes require.


</td></tr>
</tbody></table>

## Interfaces

<table><thead><tr><th>

Interface


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[AnalysisResult](./change-detector-semantic-release-plugin.analysisresult.md)


</td><td>

**_(ALPHA)_** Result of analyzing API changes for a package.


</td></tr>
<tr><td>

[PluginConfig](./change-detector-semantic-release-plugin.pluginconfig.md)


</td><td>

**_(ALPHA)_** Configuration options for the plugin.


</td></tr>
<tr><td>

[ResolvedPluginConfig](./change-detector-semantic-release-plugin.resolvedpluginconfig.md)


</td><td>

**_(ALPHA)_** Resolved plugin configuration with defaults applied.


</td></tr>
<tr><td>

[SemanticReleaseContext](./change-detector-semantic-release-plugin.semanticreleasecontext.md)


</td><td>

**_(ALPHA)_** Context provided by semantic-release to plugin hooks. This is a simplified version of the actual context.


</td></tr>
<tr><td>

[ValidationResult](./change-detector-semantic-release-plugin.validationresult.md)


</td><td>

**_(ALPHA)_** Result of validating the proposed version bump.


</td></tr>
</tbody></table>

## Type Aliases

<table><thead><tr><th>

Type Alias


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[PluginMode](./change-detector-semantic-release-plugin.pluginmode.md)


</td><td>

**_(ALPHA)_** Operating mode for the plugin.

- `validate`<!-- -->: Fail if commits understate the required bump (default) - `override`<!-- -->: Use API analysis to determine version, ignore commits - `advisory`<!-- -->: Warn about mismatches but proceed


</td></tr>
<tr><td>

[SemanticReleaseType](./change-detector-semantic-release-plugin.semanticreleasetype.md)


</td><td>

**_(ALPHA)_** semantic-release version bump type. Matches the types used by semantic-release.


</td></tr>
</tbody></table>

